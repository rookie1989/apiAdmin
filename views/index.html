<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
    <link href="http://cdn.staticfile.org/twitter-bootstrap/3.0.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel='stylesheet' href='/css/style.css'/>
</head>
<body>
<div class="flex-content">
    <div class="header">
        <div class="container">
            <div class="header-content">
                <p class="logo">API Admin</p>
            </div>
        </div>
    </div>
    <div class="main">
        <div class="container">
            <div class="api-list">
                <div class="section-title">
                    <h3>接口列表</h3>
                    <div class="btn-group">
                        <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#addApiModal">添加接口
                        </button>
                    </div>
                </div>
                <%if(list.length > 0){%>
                <table class="table table-hover table-bordered">
                    <thead>
                    <tr>
                        <th class="w200">接口名称</th>
                        <th class="w200">接口描述</th>
                        <th>接口地址</th>
                        <th class="w250">操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <%list.forEach(function(item,index){%>
                    <tr>
                        <td><span class="label label-warning"><%= item.method%></span> <%= item.title%></td>
                        <td><%= item.description%></td>
                        <td><%= item.url%></td>
                        <td>
                            <div class="oper-list">
                                <a href="/api<%=item.url%>" target="_blank" class="view act">查看结果</a>
                                <a id="editApi">重新编辑</a>
                                <a>删除接口</a>
                            </div>
                        </td>
                    </tr>
                    <%})%>
                    </tbody>
                </table>
                <%}else{%>
                <p>本地没有找到任何已存在接口，点击右上角创建一个新接口</p>
                <%}%>
            </div>
        </div>
    </div>
</div>
<div class="footer">
    <div class="container">
        <ul class="nav-list">
            <li>
                <a href="#" target="_blank">首页</a>
            </li>
            <li>
                <a href="#" target="_blank">首页</a>
            </li>
            <li>
                <a href="#" target="_blank">首页</a>
            </li>
            <li>
                <a href="#" target="_blank">关于</a>
            </li>
        </ul>
        <p class="copy-right clearfix">
            Copyright @2017 杭州不存在科技有限公司 版权所有
        </p>
    </div>
</div>
<!-- ======================== modal area ====================== -->
<!-- Modal -->
<div class="modal fade" id="addApiModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">添加接口</h4>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary">保存</button>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.bootcss.com/jquery/2.1.2/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<script>
    $(function () {
        $("#editApi").on("click", function () {
            $.ajax({
                type : "GET",
                url : "/editApi",
                dataType : "json",
                data : {
                    url : "intention.orders.infos",
                },
                success: function (data, status) {
                    console.log(data)
                },
                fail: function (err, status) {
                    console.log(err)
                }
            })
        });
    });
</script>
</body>
</html>
